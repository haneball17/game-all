# game-all AGENTS.md

## 项目概览

- 目标平台：Windows（x86）
- 主要组件：
  - Payload：C++ x86 DLL，包含 Helper/Sync 核心逻辑
  - Injector：C++ x86 控制台程序，仅负责加载 DLL
  - MasterGUI：C# WPF，目标框架 net8.0-windows
- 协议单一来源：`Shared/Protocols/`
- 参考代码：`references/`（只读对照，不在此目录内改动）

## 目录与职责

- `Payload/`：DLL 工程与核心逻辑
- `Injector/`：注入器工程
- `GUI/`：WPF 主界面与子模块
- `Shared/Protocols/`：共享内存协议定义与版本管理
- `docs/`：设计文档与合并说明
- `references/`：原项目参考快照（只读）

## 语言与注释规范

- 所有分析、说明、注释使用中文
- 关键逻辑必须添加清晰中文注释
- 命名优先采用清晰直观的中文含义（代码标识符可保持既有英文）

## 工程原则

- 质量第一，稳定优先
- 遵循 SOLID、DRY、关注点分离、YAGNI
- 删除无用代码，避免保留旧兼容分支
- 处理异常与边界条件
- 关键决策与变更需可追溯（优先记录到 `docs/项目合并文档.md`）

## 构建与运行

- 统一平台：x86
- GUI 统一目标框架：net8.0-windows
- 优先使用解决方案（若存在顶层 `.sln` 以其为准）
- 无顶层方案时，按模块单独构建并确保输出命名一致

## 协议与接口（Shared/Protocols）

- 所有共享内存结构体与版本号必须在 `Shared/Protocols/` 统一维护
- 任何协议变更：先改 `Shared/Protocols/`，再同步 C++ 与 C# 实现
- 读取与写入必须做版本号与结构体大小校验

## GUI 与 Injector 关系

- MasterGUI 采用“半集成”模式：
  - 提供快捷入口（打开注入器目录/提示用户手动运行）
  - 仅做状态检测与展示，不直接负责注入流程

## 测试与验收

- 修改逻辑需补充对应测试或说明无法测试的原因
- 验收应覆盖：
  - 共享内存版本一致性
  - GUI 状态更新与心跳检测
  - 基础构建与运行流程

## 安全与合规

- 仅用于内部授权测试环境
